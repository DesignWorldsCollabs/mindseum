<index:>
  <section id="gamechain">
    <div id="result">
      <view name="url" url="{{_page.url}}"></view>
    </div>
    <ul id="chain">
      {{each _page.chain as #id}}
        <li class="bead string" style="background-image: url(/images/{{#id}}.jpg)"></li>
      {{/each}}
    </ul>
  </section>
  <section id="gameboard">
    {{each _page.board.beadIds as #id, #i}}
      {{if #i === _page.board.center}}
        <view name="connect" beadIds="{{_page.chain}}"></view>
      {{/if}}
      <view name="bead" id="{{#id}}" beadIds="{{_page.chain}}"></view>
    {{/each}}
  </section>

<bead:>
  <a class="bead tile {{class}}"
     on-click="click()"
     style="background-image: url(/images/{{id}}.jpg)">
  </a>

<connect:>
  <a class="connect tile {{class}}"
     on-click="click()"
     style="background-image: url(/images/{{id}}.jpg)">
  </a>

<url:>
  <form on-submit="onSubmit()">
    <input name="url" value="{{url}}" type="text" on-blur="onBlur()" placeholder="https://">
    <button type="submit" disabled="{{if state != 'exists'}}true{{/}}">Add</button>&nbsp;
    <span>
      {{if touched === true}}{{if state === 'error'}}invalid url{{/}}{{/}}
      {{if state === 'summarizing'}}checking that out...{{/}}
      {{if state === 'summarized'}}suggested{{/}}
    </span>
  </form>
  <h4>{{title}}</h4>
  <p>{{summary}}</p>
  <small>{{source}}</small>

