<index:>
  <section id="gamechain">
    <div id="result">
      <view name="url" url="{{_page.url}}" beadIds="{{_page.chain}}" chains="{{_page.chains}}"></view>
      <view name="associations" beadIds="{{_page.chain}}"></view>
    </div>
  </section>
  <section id="gameboard">
    {{each _page.board.beadIds as #id, #i}}
      {{if #i === _page.board.center}}
        <view name="connect" beadIds="{{_page.chain}}"></view>
      {{/if}}
      <view name="bead" id="{{#id}}" beadIds="{{_page.chain}}"></view>
    {{/each}}
  </section>

<bead:>
  <a class="bead tile {{class}}"
     on-click="click()"
     style="background-image: url(/images/{{id}}.jpg)">
  </a>

<connect:>
  <a class="connect tile {{class}}"
     on-click="click()"
     style="background-image: url(/images/{{id}}.jpg)">
  </a>

<url:>
  <form on-submit="onSubmit()">
    <div class="field">
      <input class="{{state}} left" name="url" value="{{url}}" type="text" on-blur="onBlur()" placeholder="https://">
      <button class="{{state}} right" type="submit">
        {{if state === 'summarizing'}}summarizing...
        {{else if state === 'summarized'}}suggested
        {{else}}Suggest{{/}}
      </button>
    </div>
  </form>

<associations:>
  {{each associations}}
    <view name="chain" chain="{{this}}"></view>
  {{/each}}

<chain:>
  <fieldset>
    <legend>
      <ul id="chain">
        {{each chain.beadIds as #id}}
          <li class="bead string" style="background-image: url(/images/{{#id}}.jpg)"></li>
        {{/each}}
      </ul>
    </legend>
    <div>{{chain.url}}<br /><br /></div>
    <label for="title">Title</label>
    <input value="{{chain.title}}" type="text" id="title">
    <label for="summary">Summary</label>
    <textarea id="summary">
      {{chain.summary}}
    </textarea>
    <small>{{chain.source}}</small>
    <div><a on-click="del()">delete</a></div>
  </fieldset>
